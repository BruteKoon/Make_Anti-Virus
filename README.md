# Make_Anti-Virus
백신 만들기(Making Anti-Virus)

01. Eicar Test를 위한 전용 백신 만들기
Eicar Test 파일을 대상으로 하는 전용 백신을 구축한다. 간단하게 특정 문구 나 MD5를 통하여 해당 파일을 확인 후, 삭제 한다.

02. List DB 사용
사용자 입장에서는 전용 백신을 여러게 사용하는 것을 매우 귀찮고, 번거롭다. 그렇기 때문에 하나의 백신 프로그램을 만들어야하며, 이 백신 프로그램은 여러 멀웨어의 정보를 지니고 있어야한다.
이를 위해 DB를 가지고 있어야한다. 여기서는 가장 간단하게 List를 통하여 DB를 구축한다.

03. File DB 사용
데이터 베이스를 완전히 파일 형태로 구축하여 사용한다. 다만 이 db 자체가 공격의 위험이 존재하기 때문에 이를 보호하기 위해 암호화 코드가 필요하며, 프로그램에서는 이 암호화된 db를 복호화하는 코드 역시 필요하다.
그렇기 때문에 여기서는 암호화/복호화 코드가 추가 되었으며, db를 읽어 들이는 코드또한 추가되었다.

04. 모듈화
완성 시킨 프로그램이 수정되는 일은 매우 빈번하다. 하나의 코드로 구성된 프로그램인 경우, 수정 사항이 있을 때마다 전체적으로 고쳐야되기 때문에 매우 비효율적이다.
이를 보완하고자 모듈화를 진행한다. 모듈화를 통해 여러 부분으로 나누고, 문제가 생길 때마다 해당 부분을 찾아 고치는 식으로, 유지보수를 진행 할 수 있다.

05. EXE 만들기
이번 코드들은 모두 파이썬으로 구축되었다. 사용자의 입장에서 이 파이썬코드를 실행시키기에는 어려움이 따른다. 그렇기 때문에 사용자가 쉽게 사용 할 수 있도록 EXE 파일로 만들어서 실행시킬 수 있게 만들어본다.

06. 플러그인 엔진 만들기
백신 커널을 통해 관리되는 플러그인 엔진을 만든다. 대표적인 플러그인 엔진 구조는 카스퍼스의 백신 엔진 구조이다. 각각의 엔진은 자신들이 맡는 악성 코드가 존재한다. 즉 여러개의 엔진들이 1대1 방식으로 특정 악성코드를 탐지하고 처리하는 형태이다. 이런 경우, 악성코드를 추가할 때 엔진을 추가함으로써 업데이트가 빠르게 이루어진다.

07. 플러그인 엔진의 암/복호화
플러그인 엔진 및 악성코드 패턴을 제대로 암/복호화 하기 위해 필요한 부분이다. 두가지 필수 요건은 빠르게 암/복호화가 가능해야한다는 점과 해커에게 노출이 되더라도 복호화가 수행되지 않도록 하여야한다. 이는 공개키 방식으로 노출이 되었을 때의 문제를 해결할 수 있다. 하지만 공개키 방식은 빠른 암/복호화 방식이 아니기 때문에 다른 알고리즘을 같이 사용하여야 한다.
